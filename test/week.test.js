const parseCrontab = require("../dist/index.cjs");
describe('test week', () => {
    test(' ? ? ? ? ? ? ? ', () => {
        expect(parseCrontab(' ? ? ? ? ? ? ? ')).toBe('')
    })

    test(' ? ? ? ? ? ? ?', () => {
        expect(parseCrontab(' ? ? ? ? ? ? ?')).toBe('')
    })

    test('? ? ? ? ? ? ? ', () => {
        expect(parseCrontab('? ? ? ? ? ? ? ')).toBe('')
    })

    test('? ? ? ? ? ? ?', () => {
        expect(parseCrontab('? ? ? ? ? ? ?')).toBe('')
    })

    test('? ? ? ? ? * ?', () => {
        expect(parseCrontab('? ? ? ? ? * ?')).toBe('每周')
    })

    test('? ? ? ? ? 7#3 ?', () => {
        expect(parseCrontab('? ? ? ? ? 7#3 ?')).toBe('第3个星期六')
    })

    test('? ? ? ? ? 5,10 ?', () => {
        expect(parseCrontab('? ? ? ? ? 5,10 ?')).toBe('第5和第10周')
    })

    test('? ? ? ? ? 5,10,15,20 ?', () => {
        expect(parseCrontab('? ? ? ? ? 5,10,15,20 ?')).toBe('第5、第10、第15和第20周')
    })

    test('? ? ? ? ? */5 ?', () => {
        expect(parseCrontab('? ? ? ? ? */5 ?')).toBe('每隔5周')
    })

    test('? ? ? ? ? 10/5 ?', () => {
        expect(() => parseCrontab('? ? ? ? ? 10/5 ?')).toThrow(new Error('周10/5格式不正确'))
    })

    test('? ? ? ? ? 0/5 ?', () => {
        expect(parseCrontab('? ? ? ? ? 0/5 ?')).toBe('每隔5周')
    })

    test('? ? ? ? ? -1/5 ?', () => {
        expect(() => parseCrontab('? ? ? ? ? -1/5 ?')).toThrow(new Error('值域不能为负数'))
    })

    test('? ? ? ? ? 32/5 ?', () => {
        expect(() => parseCrontab('? ? ? ? ? 32/5 ?')).toThrow(new Error('周32/5格式不正确'))
    })

    test('? ? ? ? ? 32-5 ?', () => {
        expect(() => parseCrontab('? ? ? ? ? 32-5 ?')).toThrow(new Error('周32-5格式不正确'))
    })
})
